# üéµ Music Recommender App

–Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º—É–∑–∏—á–Ω–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –º–∞—à–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é –∑ Spotify API.

## üöÄ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### üéØ Core Features
- **–†–æ–∑—É–º–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó** –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º 3 ML –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤
- **Spotify —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è** –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º—É–∑–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- **–ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø–ª–µ–π–ª–∏—Å—Ç–∏** –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ—Å—Ç–æ—Ä—ñ—ó –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è
- **–£–ª—é–±–ª–µ–Ω—ñ —Ç—Ä–µ–∫–∏** –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- **–Ü—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è** –∑ –∞–Ω–∞–ª—ñ—Ç–∏–∫–æ—é

### ü§ñ ML Service Features
- **Content-Based Filtering** - Random Forest –Ω–∞ –∞—É–¥—ñ–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö
- **Collaborative Filtering** - KNN –Ω–∞ user-item –º–∞—Ç—Ä–∏—Ü—ñ
- **Hybrid Approach** - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤
- **Enhanced Data Collection** - –ó–±—ñ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∏—Ö –¥–∞–Ω–∏—Ö –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ
- **Real-time Training** - –î–∏–Ω–∞–º—ñ—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
MusicRecommender/
‚îú‚îÄ‚îÄ üéØ ASP.NET Core Web App (Frontend + API)
‚îÇ   ‚îú‚îÄ‚îÄ Controllers/        # API –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏
‚îÇ   ‚îú‚îÄ‚îÄ Services/          # –ë—ñ–∑–Ω–µ—Å –ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ Models/            # –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ Views/             # Razor Pages
‚îÇ   ‚îî‚îÄ‚îÄ wwwroot/           # –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ ü§ñ ML Service (Python FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ main.py            # FastAPI —Å–µ—Ä–≤—ñ—Å
‚îÇ   ‚îú‚îÄ‚îÄ ml_models.py       # ML –∞–ª–≥–æ—Ä–∏—Ç–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ enhanced_data_loader.py  # –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt   # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îÇ
‚îú‚îÄ‚îÄ üìä Database (SQLite)
‚îÇ   ‚îú‚îÄ‚îÄ Songs              # –ö–∞—Ç–∞–ª–æ–≥ –º—É–∑–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ Users              # –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
‚îÇ   ‚îú‚îÄ‚îÄ Favorites          # –£–ª—é–±–ª–µ–Ω—ñ —Ç—Ä–µ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ ListeningHistory   # –Ü—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ MLTrainingData     # –î–∞–Ω—ñ –¥–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è ML
‚îÇ   ‚îî‚îÄ‚îÄ MLUserProfiles     # –ü—Ä–æ—Ñ—ñ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚îÇ
‚îî‚îÄ‚îÄ üîß Scripts & Tools
    ‚îú‚îÄ‚îÄ create_test_users.py      # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
    ‚îú‚îÄ‚îÄ expand_music_database.py  # –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –º—É–∑–∏—á–Ω–æ—ó –ë–î
    ‚îî‚îÄ‚îÄ test_ml_training_system.py # –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è ML —Å–∏—Å—Ç–µ–º–∏
```

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

### Backend
- **ASP.NET Core 8.0** - Web framework
- **Entity Framework Core** - ORM
- **SQLite** - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Newtonsoft.Json** - JSON –æ–±—Ä–æ–±–∫–∞

### ML Service
- **Python 3.8+** - –ú–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è
- **FastAPI** - –í–µ–± —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è ML API
- **scikit-learn** - Machine Learning
- **pandas** - –û–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö
- **numpy** - –ß–∏—Å–ª–æ–≤—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è

### Frontend
- **HTML/CSS/JavaScript** - –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∞ —á–∞—Å—Ç–∏–Ω–∞
- **Bootstrap** - UI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Chart.js** - –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- **Spotify Web API** - –ú—É–∑–∏—á–Ω—ñ –¥–∞–Ω—ñ
- **HTTP Client** - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –º—ñ–∂ —Å–µ—Ä–≤—ñ—Å–∞–º–∏

## üìä ML –ú–µ—Ç—Ä–∏–∫–∏

–°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥—Å—Ç–µ–∂—É—î –Ω–∞—Å—Ç—É–ø–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ü—ñ–Ω–∫–∏ —è–∫–æ—Å—Ç—ñ –º–æ–¥–µ–ª–µ–π:

### Content-Based Model
- **MAE (Mean Absolute Error)** - –°–µ—Ä–µ–¥–Ω—è –∞–±—Å–æ–ª—é—Ç–Ω–∞ –ø–æ–º–∏–ª–∫–∞
- **MSE (Mean Squared Error)** - –°–µ—Ä–µ–¥–Ω—å–æ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞
- **Feature Count** - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏—Ö –æ–∑–Ω–∞–∫

### Collaborative Filtering
- **Matrix Sparsity** - –†–æ–∑—Ä—ñ–¥–∂–µ–Ω—ñ—Å—Ç—å user-item –º–∞—Ç—Ä–∏—Ü—ñ
- **User Coverage** - –ü–æ–∫—Ä–∏—Ç—Ç—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- **Item Coverage** - –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç—Ä–µ–∫—ñ–≤

### Dataset Metrics
- **Training Samples** - –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç—Ä–µ–Ω—É–≤–∞–ª—å–Ω–∏—Ö –∑—Ä–∞–∑–∫—ñ–≤
- **Unique Users** - –£–Ω—ñ–∫–∞–ª—å–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
- **Unique Tracks** - –£–Ω—ñ–∫–∞–ª—å–Ω—ñ —Ç—Ä–µ–∫–∏
- **Training Duration** - –ß–∞—Å —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
- .NET 8.0 SDK
- Python 3.8+
- Spotify Developer Account

### –ö—Ä–æ–∫ 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
git clone <repository-url>
cd MusicRecommender
```

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è .NET –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
```bash
# –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞–∫–µ—Ç—ñ–≤
dotnet restore

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
dotnet ef database update

# –ó–∞–ø—É—Å–∫ –≤–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
dotnet run
```

### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ML —Å–µ—Ä–≤—ñ—Å—É
```bash
cd ml_service

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ ML —Å–µ—Ä–≤—ñ—Å—É
python main.py
```

### –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Spotify API
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞ [Spotify Developer Dashboard](https://developer.spotify.com/dashboard)
2. –î–æ–¥–∞–π—Ç–µ –≤–∞—à—ñ Client ID —Ç–∞ Client Secret –≤ `appsettings.json`
3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Redirect URI

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### appsettings.json
```json
{
  "Spotify": {
    "ClientId": "your_spotify_client_id",
    "ClientSecret": "your_spotify_client_secret",
    "RedirectUri": "https://localhost:5001/callback"
  },
  "MLService": {
    "BaseUrl": "http://localhost:8000"
  }
}
```

## üìà –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä —Ç–∞ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `https://localhost:5001`
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Spotify
3. –î–æ—Å–ª—ñ–¥–∂—É–π—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó, –¥–æ–¥–∞–≤–∞–π—Ç–µ —É–ª—é–±–ª–µ–Ω—ñ —Ç—Ä–µ–∫–∏
4. –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ —ñ—Å—Ç–æ—Ä—ñ—é –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è

### ML API
ML —Å–µ—Ä–≤—ñ—Å –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `http://localhost:8000` –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ endpoint'–∞–º–∏:

- `GET /` - –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤—ñ—Å—É
- `POST /train` - –¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –º–æ–¥–µ–ª–µ–π
- `POST /recommend` - –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π
- `GET /models/info` - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –º–æ–¥–µ–ª—ñ
- `GET /data/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞–Ω–∏—Ö

### API Documentation
–î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞:
- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ ML —Ç–µ—Å—Ç—ñ–≤
```bash
python test_ml_training_system.py
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
```bash
python create_test_users.py
python expand_music_database.py
python add_demo_data.py
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

–°–∏—Å—Ç–µ–º–∞ –Ω–∞–¥–∞—î –¥–µ—Ç–∞–ª—å–Ω—É –∞–Ω–∞–ª—ñ—Ç–∏–∫—É:
- –ú–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ ML –º–æ–¥–µ–ª–µ–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- –õ–æ—Ü—ñ—ó —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ–º–∏–ª–æ–∫
- Performance metrics

## ü§ù –í–Ω–µ—Å–æ–∫

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –°—Ç–≤–æ—Ä—ñ—Ç—å feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –≤–∞—à—ñ –∑–º—ñ–Ω–∏ (`git commit -m 'Add some AmazingFeature'`)
4. Push –≤ branch (`git push origin feature/AmazingFeature`)
5. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Pull Request

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–æ –ø—ñ–¥ MIT License - –¥–µ—Ç–∞–ª—ñ –≤ —Ñ–∞–π–ª—ñ [LICENSE](LICENSE).

## üë• –ê–≤—Ç–æ—Ä–∏

- **–†–æ–∑—Ä–æ–±–Ω–∏–∫** - –°–∏—Å—Ç–µ–º–∞ –º—É–∑–∏—á–Ω–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π –∑ ML

## üôè –ü–æ–¥—è–∫–∏

- Spotify –∑–∞ –Ω–∞–¥–∞–Ω–Ω—è Web API
- scikit-learn —Å–ø—ñ–ª—å–Ω–æ—Ç–∞ –∑–∞ ML –∞–ª–≥–æ—Ä–∏—Ç–º–∏
- ASP.NET Core –∫–æ–º–∞–Ω–¥–∞ –∑–∞ –≤–µ–± —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ #   M u s i c R e c o m m e n d e r  
 